{{#section 'js'}}
<script>
/////////////////////////////////
	$('#prev').on('click', function(e) {

		const cur_page = $('#cur-link').html();
		const prev_page = parseInt(cur_page) - 1;
		const link = "?page=" + prev_page;
		$('prev-link').attr("href", link);
		
		const nPages = {{page_numbers.length}};
		alert(cur_page);
		//alert(nPages);
		if(prev_page == 1) {
			//alert('next page is 1');
			$('#prev').addClass('disabled');
			$('#next').removeClass('disabled');
		}
		else {
			$('#prev').removeClass('disabled');
			$('#next').removeClass('disabled');
		}
	});

	$('#next').on('click', function(e) {

		const cur_page = $('#cur-link').html();
		const next_page = parseInt(cur_page) + 1;
		const nPages = {{page_numbers.length}};
		//alert(next_page);
		alert(nPages);
		if(next_page == nPages) {
			//alert('xxx');
			$('#prev').removeClass('disabled');
			$('#next').addClass('disabled');
		}
		else {
			$('#prev').removeClass('disabled');
			$('#next').removeClass('disabled');
		}
	});

	$('#click-link').on('click', function(e) {
		
		//alert('x')
		const click_page = $('#click-link').html();
		//alert(click_page);
		const n_click_page = parseInt(click_page);
		const nPages = {{page_numbers.length}};
		const n_nPages = parseInt(nPages);
		if(n_click_page == n_nPages) {
			//alert('n_click_page == nPages');
			$('#next').addClass('disabled');
			$('#prev').removeClass('disabled');
		}
		else if(n_click_page == 1) {
			//alert('n_click_page == 1');
			$('#next').removeClass('disabled');
			$('#prev').addClass('disabled');
		}
	});
/////////////////////////////////
</script>
{{/section}}

<div class="card shadow w-75 mx-auto">
	<div class="card-header d-flex justify-content-between">
		<h4>Courses</h4>
		<a class="btn btn-outline-success" href="/admin/courses/add" role="button">
			<i class="fa fa-plus" aria-hidden="true"></i>
			Insert
		</a>
	</div>
	<div class="card-body">
		{{#if this.empty}}
		<h5 class="card-title">There is no data</h5>
		<p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
		{{else}}
		<div class="container">
			<div class="row">
				{{#each this.courses}}
				<div class="col-md-3 col-sm-6 mb-2">
					<div class="product-grid4 h-100">
						<div class="product-image4">
							<a href="#">
								<img class="pic-1" src="/public/images/mobile/2.png">
								<img class="pic-2" src="/public/images/mobile/1.png">
							</a>
							<ul class="social">
								<li><a href="/admin/courses/edit/{{id}}" data-tip="Quick View" role="button"><i
											class="fa fa-eye"></i></a></li>
								{{!-- <li><a href="#" data-tip="Add to Wishlist"><i class="fa fa-shopping-bag"></i></a></li> --}}
								<li><a href="#" data-tip="Add to Cart"><i class="fa fa-shopping-cart"></i></a></li>
							</ul>
							<span class="product-new-label">New</span>
							<span class="product-discount-label">-10%</span>
						</div>
						<div class="product-content">
							<h3 class="title"><a href="#">{{title}}</a></h3>
							{{!-- <h3 class="title">hello word</h3> --}}
							<div class="price">
								${{price}}
								<span>$5.00</span>
							</div>
							<a class="add-to-cart" href="">ADD TO CART</a>
						</div>
					</div>
				</div>
				{{/each}}
			</div>
			<div class="card-body d-flex justify-content-between">
				<ul class="pagination mx-auto">
					<li class="page-item disabled" id="prev">
						<a class="page-link" href="?page={{value}}" id="prev-link">Previous</a>
					</li>
					{{#each this.page_numbers}}
					{{#if isCurrentPage}}
					<li class="page-item active">
						<a class="page-link" href="javascript:;" id="cur-link">{{value}}</a>
					</li>
					{{else}}
					<li class="page-item">
						<a class="page-link" href="?page={{value}}" id="click-link">{{value}}</a>
					</li>
					{{/if}}
					{{/each}}
					<li class="page-item" id="next">
						<a class="page-link" href="?page={{value}}" id="next-link">Next</a>
					</li>
				</ul>
			</div>
		</div>
		{{/if}}
	</div>
</div>